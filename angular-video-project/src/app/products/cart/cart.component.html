<app-header></app-header>
<div class="container">
    <div class="container text-center mt-2 emptyCartContainer" *ngIf="isCartEmpty">
        <h2>OOPS! Your cart is empty</h2>
        <img src="../../../assets/images/emptycart.png" class="emptyCartImg">
    </div>
    <div class="card my-4 bg-secondary-subtle" [hidden]="isCartEmpty" *ngFor="let item of cartItems">
        <div class="d-flex">
            <div class="cartImage p-3">
                <img src="../../../assets/images/{{item.productDetails.image}}">
            </div>
            <div class="d-flex flex-column justify-content-evenly align-items-baseline itemDesc p-2">
                <h2>{{item.productDetails.name}}</h2>
                <div class="text-muted fs-5 descDiv">
                    {{shortenText(item.productDetails.description)}}
                </div>
                <div class="row w-100 mt-2">
                    <div class="col-4 offset-8">
                        <div class="d-flex w-100 justify-content-around align-items-center">
                            <h4>${{item.productDetails.price * item.quantity}}</h4>
                            <div class="d-flex align-items-center bg-body">
                                <button class="btn btn-primary me-2 rounded-0" (click)="decreaseQuantity(item.productDetails.productId)">
                                    <i class="bi bi-dash"></i>
                                </button>
                                {{item.quantity}}
                                <button class="btn btn-primary ms-2 rounded-0" (click)="addQuantity(item.productDetails.productId)">
                                    <i class="bi bi-plus"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <div class="container">
        <h3 class="text-muted">Price Details</h3>
        <hr>
        <div class="d-flex w-100 justify-content-between">
            <h4>Total Amount</h4>
            <h5>
                ${{totalCost}}
            </h5>
        </div>
        <div class="text-center mt-4 mb-3">
            <button class="w-50 btn btn-danger" [disabled]="isCartEmpty" (click)="placeOrder()">Place Order</button>
        </div>
    </div>
</div>
